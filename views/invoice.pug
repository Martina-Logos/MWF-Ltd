meta(charset="UTF-8")
meta(name="viewport", content="width=device-width, initial-scale=1")
title MWF Ltd - Create Invoice
link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css")
link(rel="stylesheet", href="/css/invoice.css")

.container
  // Sidebar
  .sidebar
    .logo
      h2 Mayondo Wood & Furniture Ltd
    ul.nav-links
      li
        a(href="/salesAgent")
          i.fas.fa-home
          | Dashboard
      li
        a(href="/sales")
          i.fas.fa-cash-register
          | Record Sale
      li.active
        a(href="/invoice")
          i.fas.fa-file-invoice-dollar
          | Invoices
      li
        a(href="/customer")
          i.fas.fa-user-plus
          | Add Customer
      li
        a(href="/receipt")
          i.fas.fa-boxes
          | Receipts
      li
        a(href="/salesList")
          i.fas.fa-list
          | Sales List

  // Main Content
  .main-content
    .header
      h1 Create Invoice
      .user-info
        div
          h3 Mugerwa Rollins
          p Sales Attendant
        img(src="/imgs/salesAgent.jpg", alt="User")

    form#invoiceForm(action="/invoice" method="POST")
      // Invoice Info
      .form-section
        h3 Invoice Info
        label(for="invoiceNumber") Invoice Number
        input(type="text" name="invoiceNumber" id="invoiceNumber" required placeholder="INV-0001")

        label(for="invoiceDate") Invoice Date
        input(type="date" name="invoiceDate" id="invoiceDate" required)

        label(for="dueDate") Due Date
        input(type="date" name="dueDate" id="dueDate")

      // Customer Info
      .form-section
        h3 Customer Info
        label(for="customerName") Customer Name
        input(type="text" name="customerName" id="customerName" required)

        label(for="customerCompany") Company Name
        input(type="text" name="customerCompany" id="customerCompany")

        label(for="customerPhone") Phone
        input(type="text" name="customerPhone" id="customerPhone")

        label(for="customerAddress") Address
        input(type="text" name="customerAddress" id="customerAddress")

      // Items
      .form-section
        h3 Invoice Items
        table#invoiceItemsTable
          thead
            tr
              th Description
              th Quantity
              th Unit Price
              th Total
              th Action
          tbody
            tr
              td
                input(type="text" name="items[0][description]" required)
              td
                input(type="number" name="items[0][quantity]" min="1" value="1" required)
              td
                input(type="number" name="items[0][price]" min="0" value="0" required)
              td
                input(type="number" name="items[0][total]" value="0" readonly)
              td
                button(type="button" class="removeItem") Remove
        button#addItemBtn(type="button") Add Item

      // Totals
      .form-section
        label(for="subtotal") Subtotal
        input(type="number" name="subtotal" id="subtotal" value="0" readonly)

        label(for="tax") Tax (18%)
        input(type="number" name="tax" id="tax" value="0" readonly)

        label(for="discount") Discount
        input(type="number" name="discount" id="discount" value="0")

        label(for="total") Grand Total
        input(type="number" name="total" id="total" value="0" readonly)

      // Notes
      .form-section
        label(for="notes") Notes
        textarea(name="notes" id="notes" placeholder="Any additional notes...")

      // Actions
      .form-actions
        button(type="submit" class="btn btn-primary")
          i.fas.fa-save
          | Save Invoice
        button(type="reset" class="btn btn-secondary")
          i.fas.fa-undo
          | Reset Form

// Load frontend JS for dynamic item rows & calculations
script(src="/javascript/invoice.js")
